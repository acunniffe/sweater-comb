info:
  title: Registry
  version: 3.0.0
openapi: 3.0.3

components:
  parameters:
    Version:
      description: The requested version of the endpoint to process the request
      in: query
      name: version
      required: true
      schema:
        type: string

  schemas:
    JSONAPI:
      additionalProperties: false
      properties:
        version:
          type: string
      required:
        - version
      type: object

paths:
  /goof/no-params-no-headers:
    get:
      operationId: goofNoParamsNoHeaders
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object

  /goof/no-version:
    get:
      parameters: []
      operationId: goofNoVersion
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
          headers: {}

  /goof/badJsonApi/badResponseSchemaType:
    get:
      operationId: badResponseSchemaType
      responses:
        '200':
          content:
            application/vnd.api+json:
              schema:
                type: string

  /goof/badJsonApi/missingDataId:
    get:
      operationId: missingDataId
      responses:
        '200':
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      wtf:
                        type: string

  /goof/badJsonApi/dataIdNotUuid:
    get:
      operationId: dataIdNotUuid
      responses:
        '200':
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  data:
                    type: string

  /goof/badJsonApi/dataMissingAttributes:
    get:
      operationId: dataMissingAttributes
      responses:
        '200':
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  type:
                    type: string

  /goof/badJsonApi/dataMissingType:
    get:
      operationId: dataMissingAttributes
      responses:
        '200':
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  attributes:
                    type: object
                    properties:
                      foo:
                        type: string

  /goof/bad_post_status_code:
    post:
      description: 'test'
      operationId: dataNoPost201
      parameters:
        - $ref: '#/components/parameters/Version'
      responses:
        '200':
          content:
            application/vnd.api+json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  attributes:
                    type: object
                    properties:
                      foo:
                        type: string

servers:
  - description: Snyk Registry
    url: /api/v3
